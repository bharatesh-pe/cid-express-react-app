// Layout.js
import React, { useEffect } from "react";
import {
  Box,
  Paper,
  Typography,
  Divider,
  List,
  ListItem,
  ListItemText,
  Stack,
  ListItemIcon,
  CircularProgress,
} from "@mui/material";
import { useLocation, useNavigate } from "react-router-dom";
import { ToastContainer } from "react-toastify";
import { useState } from 'react';
// import { Outlet } from 'react-router-dom';
import LogoImg from "../Images/siimsLogo.png";
import LogoText from "../Images/cid_logo.png";
import adminSidebarMenu from "./sidebar/admin.json";
import userSidebarMenu from "./sidebar/user.json";
import { toast } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';
import userImg from '../Images/userImg.png'

const icons = {
  dashboardIcon: (
    <svg
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="none"
        d="M17.5 4.16699C17.5 5.5477 14.1421 6.66699 10 6.66699C5.85786 6.66699 2.5 5.5477 2.5 4.16699M17.5 4.16699C17.5 2.78628 14.1421 1.66699 10 1.66699C5.85786 1.66699 2.5 2.78628 2.5 4.16699M17.5 4.16699V15.8337C17.5 17.217 14.1667 18.3337 10 18.3337C5.83333 18.3337 2.5 17.217 2.5 15.8337V4.16699M17.5 10.0003C17.5 11.3837 14.1667 12.5003 10 12.5003C5.83333 12.5003 2.5 11.3837 2.5 10.0003"
        strokeWidth="1.66667"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
    </svg>
  ),
  ProfileIcon: (
    <svg
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="none"
        d="M18.3332 17.5V15.8333C18.3332 14.2801 17.2709 12.9751 15.8332 12.605M12.9165 2.7423C14.1381 3.23679 14.9998 4.43443 14.9998 5.83333C14.9998 7.23224 14.1381 8.42988 12.9165 8.92437M14.1665 17.5C14.1665 15.9469 14.1665 15.1703 13.9128 14.5577C13.5745 13.741 12.9255 13.092 12.1088 12.7537C11.4962 12.5 10.7196 12.5 9.1665 12.5H6.6665C5.11337 12.5 4.3368 12.5 3.72423 12.7537C2.90747 13.092 2.25855 13.741 1.92024 14.5577C1.6665 15.1703 1.6665 15.9469 1.6665 17.5M11.2498 5.83333C11.2498 7.67428 9.75745 9.16667 7.9165 9.16667C6.07555 9.16667 4.58317 7.67428 4.58317 5.83333C4.58317 3.99238 6.07555 2.5 7.9165 2.5C9.75745 2.5 11.2498 3.99238 11.2498 5.83333Z"
        strokeWidth="1.5"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
    </svg>
  ),
  usermanagementicon:(
    <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M16.6667 17.5V15.8333C16.6667 14.9493 16.3155 14.1014 15.6903 13.4763C15.0652 12.8512 14.2174 12.5 13.3333 12.5H6.66666C5.78261 12.5 4.93476 12.8512 4.30964 13.4763C3.68452 14.1014 3.33333 14.9493 3.33333 15.8333V17.5M13.3333 5.83333C13.3333 7.67428 11.8409 9.16667 9.99999 9.16667C8.15905 9.16667 6.66666 7.67428 6.66666 5.83333C6.66666 3.99238 8.15905 2.5 9.99999 2.5C11.8409 2.5 13.3333 3.99238 13.3333 5.83333Z"
      strokeWidth="1.5"
    />
  </svg>
  ),
  enquiryIcon: (            
  <svg
    // fill={userRole === "admin" ? "#ffffff" : "#000000"}
    fill={"#000000"}
    width="17"
    height="17"
    version="1.1"
    id="Capa_1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 297 297"
  >
    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
    <g
      id="SVGRepo_tracerCarrier"
      stroke-linecap="round"
      stroke-linejoin="round"
    ></g>
    <g id="SVGRepo_iconCarrier">
      {" "}
      <g>
        {" "}
        <path d="M140.667,46.598c-12.566-12.565-29.275-19.486-47.047-19.486c-17.772,0-34.48,6.921-47.048,19.487 c-25.941,25.941-25.941,68.152,0.001,94.094C59.142,153.26,75.85,160.18,93.622,160.18c17.771,0,34.479-6.92,47.046-19.486 C166.609,114.751,166.609,72.54,140.667,46.598z M129.213,129.239c-9.507,9.508-22.146,14.742-35.591,14.742 c-13.446,0-26.087-5.235-35.594-14.743c-19.626-19.626-19.627-51.56-0.002-71.186C67.534,48.545,80.174,43.31,93.62,43.31 c13.445,0,26.086,5.235,35.593,14.743C148.84,77.679,148.84,109.613,129.213,129.239z"></path>{" "}
        <path d="M288.694,227.154l-68.725-68.724c-5.339-5.339-12.458-8.279-20.044-8.279c-3.739,0-7.364,0.718-10.72,2.082l-13.518-13.52 c19.507-35.562,14.239-81.194-15.851-111.286C142.151,9.741,118.634,0,93.62,0C68.607,0,45.091,9.741,27.402,27.428 c-36.513,36.514-36.513,95.924,0,132.436c17.689,17.688,41.204,27.429,66.218,27.429c16.03,0,31.437-4.02,45.098-11.55 l13.49,13.493c-4.168,10.248-2.103,22.459,6.198,30.76l68.724,68.725c5.339,5.339,12.457,8.278,20.043,8.28 c0.001,0,0.001,0,0.001,0c7.586,0,14.704-2.941,20.044-8.281l21.477-21.476C299.745,256.19,299.745,238.207,288.694,227.154z M164.49,173.593l-9.074-9.076l9.074-9.077l9.075,9.077L164.49,173.593z M41.72,145.546c-28.617-28.618-28.617-75.183,0-103.8 c13.863-13.863,32.296-21.499,51.9-21.499c19.605,0,38.037,7.636,51.9,21.499c28.617,28.617,28.617,75.182,0,103.8 c-13.863,13.864-32.295,21.498-51.9,21.498S55.583,159.41,41.72,145.546z M274.376,252.926L252.9,274.401 c-1.516,1.516-3.549,2.351-5.726,2.351h-0.001c-2.178,0-4.212-0.835-5.726-2.351l-68.725-68.725c-3.157-3.157-3.157-8.295,0-11.452 l21.477-21.476c1.515-1.516,3.549-2.351,5.726-2.351c2.178,0,4.212,0.835,5.727,2.351l68.724,68.724 C277.534,244.63,277.534,249.769,274.376,252.926z"></path>{" "}
      </g>{" "}
    </g>
  </svg>
  ),
  circularIcon:(
    <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M18.9166 9.58333L17.2505 11.25L15.5833 9.58333M17.4542 10.8333C17.4845 10.5597 17.5 10.2817 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5C12.3561 17.5 14.4584 16.4136 15.8333 14.7144M10 5.83333V10L12.5 11.6667"
      strokeWidth="1.5"
    />
  </svg>  ),
  governmentIcon:(
    <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M8.75036 10.0001H4.16702M4.09648 10.243L2.15071 16.0552C1.99785 16.5119 1.92142 16.7402 1.97627 16.8808C2.0239 17.0029 2.1262 17.0954 2.25244 17.1307C2.3978 17.1712 2.61736 17.0724 3.05647 16.8748L16.9827 10.608C17.4113 10.4151 17.6256 10.3187 17.6918 10.1847C17.7494 10.0684 17.7494 9.93179 17.6918 9.8154C17.6256 9.68143 17.4113 9.585 16.9827 9.39212L3.05161 3.12317C2.61383 2.92617 2.39493 2.82767 2.24971 2.86807C2.1236 2.90317 2.0213 2.99549 1.97351 3.11736C1.91847 3.25769 1.99408 3.4855 2.14531 3.94113L4.09702 9.82134C4.12299 9.8996 4.13598 9.93873 4.14111 9.97874C4.14565 10.0143 4.14561 10.0502 4.14097 10.0857C4.13574 10.1257 4.12265 10.1648 4.09648 10.243Z"
      strokeWidth="1.5"
    />
  </svg>
  ),
  judgmentIcon:(
    <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M11.6667 1.8913V5.33342C11.6667 5.80013 11.6667 6.03348 11.7575 6.21174C11.8374 6.36854 11.9649 6.49603 12.1217 6.57592C12.2999 6.66675 12.5333 6.66675 13 6.66675H16.4421M16.6667 8.3236V14.3334C16.6667 15.7335 16.6667 16.4336 16.3942 16.9684C16.1545 17.4388 15.772 17.8212 15.3016 18.0609C14.7669 18.3334 14.0668 18.3334 12.6667 18.3334H7.33333C5.9332 18.3334 5.23313 18.3334 4.69835 18.0609C4.22795 17.8212 3.8455 17.4388 3.60581 16.9684C3.33333 16.4336 3.33333 15.7335 3.33333 14.3334V5.66675C3.33333 4.26662 3.33333 3.56655 3.60581 3.03177C3.8455 2.56137 4.22795 2.17892 4.69835 1.93923C5.23313 1.66675 5.9332 1.66675 7.33333 1.66675H10.0098C10.6213 1.66675 10.927 1.66675 11.2147 1.73582C11.4698 1.79707 11.7137 1.89808 11.9374 2.03515C12.1897 2.18975 12.4059 2.40594 12.8382 2.83832L15.4951 5.49517C15.9275 5.92755 16.1437 6.14374 16.2983 6.39604C16.4353 6.61972 16.5363 6.86358 16.5976 7.11867C16.6667 7.40639 16.6667 7.71213 16.6667 8.3236Z"
      strokeWidth="1.5"
    />
  </svg>
  ),
  reportIcon:(
    <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M6.66667 12.5V14.1667M10 9.16667V14.1667M13.3333 5.83333V14.1667M6.5 17.5H13.5C14.9001 17.5 15.6002 17.5 16.135 17.2275C16.6054 16.9878 16.9878 16.6054 17.2275 16.135C17.5 15.6002 17.5 14.9001 17.5 13.5V6.5C17.5 5.09987 17.5 4.3998 17.2275 3.86502C16.9878 3.39462 16.6054 3.01217 16.135 2.77248C15.6002 2.5 14.9001 2.5 13.5 2.5H6.5C5.09987 2.5 4.3998 2.5 3.86502 2.77248C3.39462 3.01217 3.01217 3.39462 2.77248 3.86502C2.5 4.3998 2.5 5.09987 2.5 6.5V13.5C2.5 14.9001 2.5 15.6002 2.77248 16.135C3.01217 16.6054 3.39462 16.9878 3.86502 17.2275C4.3998 17.5 5.09987 17.5 6.5 17.5Z"
      strokeWidth="1.5"
    />
  </svg>
  ),
  UIIcon:(
    <svg
    // fill={userRole === "admin" ? "#ffffff" : "#000000"}
    fill={"#000000"}
    width="18"
    height="18"
    version="1.1"
    id="Capa_1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 491.494 491.494"
  >
    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
    <g
      id="SVGRepo_tracerCarrier"
      stroke-linecap="round"
      stroke-linejoin="round"
    ></g>
    <g id="SVGRepo_iconCarrier">
      {" "}
      <g>
        {" "}
        <g>
          {" "}
          <path d="M39.302,138.132c3.291,0.714,6.346,0.662,15.728-6.54c4.168-3.204,10.325-8.59,16.01-16.117l2.491-3.301 C94.832,83.842,144.7,17.512,216.727,21.121c59.398,4.331,101.508,49.187,121.757,129.725c0.691,2.738,1.107,4.413,1.571,5.71 c3.097,13.167,8.288,29.575,15.771,34.98c1.848,1.34,3.999,1.98,6.127,1.98c3.246,0,6.461-1.505,8.509-4.347 c3.274-4.533,2.404-10.805-1.891-14.28c-2.069-2.68-5.959-13.888-8.276-23.913c-0.136-0.597-0.33-1.173-0.566-1.732 c-0.195-0.686-0.568-2.18-0.908-3.517c-3.209-12.77-11.735-46.678-32.417-78.567c-26.712-41.183-63.142-63.718-108.283-66.97 c-0.07-0.011-0.14-0.011-0.221-0.011C134.7-4.07,80.083,68.559,56.768,99.568l-2.451,3.257 c-6.383,8.44-13.925,13.694-16.524,15.215c-0.875,0.351-1.727,0.821-2.518,1.417c-3.263,2.472-4.857,6.689-3.979,10.685 C32.175,134.132,35.301,137.257,39.302,138.132z"></path>{" "}
          <path d="M43.97,245.815c34.618-9.417,66.601-28.597,68-29.437c45.162-27.656,86.126-71.235,86.469-71.646 c16.91-19.369,41.931-37.94,61.447-31.966c11.491,3.519,19.46,9.777,23.681,18.605c5.056,10.563,4.663,24.853-1.075,39.198 c-0.605,1.515-1.295,3.05-2.046,4.599c7.374,0.396,14.57,1.464,21.534,3.136c7.892-19.76,8.087-40.166,0.501-55.993 c-6.753-14.137-19.363-24.372-36.447-29.605c-25.08-7.675-55.478,6.251-83.33,38.163c-0.354,0.392-40,42.09-81.631,67.583 c-0.305,0.184-30.782,18.461-62.61,27.139c-5.589,1.515-8.885,7.286-7.364,12.866C32.613,244.047,38.377,247.349,43.97,245.815z"></path>{" "}
          <path d="M153.876,295.054c0-4.156,0.213-8.263,0.627-12.312c-29.438,17.887-67.814,39.939-97.787,52.746 c-5.327,2.28-7.796,8.434-5.522,13.768c1.705,3.986,5.576,6.369,9.65,6.369c1.377,0,2.777-0.275,4.122-0.842 c27.386-11.718,61.274-30.707,89.523-47.556C154.084,303.224,153.876,299.162,153.876,295.054z"></path>{" "}
          <path d="M228.386,44.899c-37.917,3.934-70.342,27.636-95.327,55.151c-4.757,5.246-9.028,10.879-13.631,16.25 c-6.023,7.042-12.607,13.623-19.485,19.829c-7.069,6.386-12.791,10.948-21.127,15.746c-8.847,5.068-17.865,10.201-27.027,14.666 c-3.153,1.54-5.865,2.534-9.41,3.601c-5.467,1.646-8.863,7.289-7.321,12.902c1.483,5.411,7.424,8.975,12.902,7.332 c10.722-3.23,20.441-8.752,30.117-14.252c8.183-4.646,16.301-8.833,23.813-14.55c14.65-11.135,27.252-24.137,38.844-38.373 c4.697-5.765,9.713-11.251,14.96-16.525c2.861-2.876,5.818-5.649,8.844-8.366c1.573-1.41,3.172-2.782,4.793-4.149 c0.818-0.686,1.647-1.367,2.485-2.045c0.213-0.178,1.843-1.461,2.255-1.793c7.305-5.595,15.087-10.568,23.275-14.771 c7.734-3.979,15.49-6.756,24.902-8.721c3.123-0.648,3.803-0.718,6.138-0.956c5.683-0.586,10.487-4.328,10.487-10.484 C238.873,50.111,234.08,44.309,228.386,44.899z"></path>{" "}
          <path d="M51.445,300.867c13.922-4.779,63.021-22.953,114.054-57.316c14.353-30.099,40.872-53.322,73.158-63.269 c6.34-7.227,12.397-14.798,18.062-22.738c3.358-4.713,2.269-11.257-2.449-14.628c-4.716-3.363-11.271-2.267-14.635,2.448 C177.851,231.979,66.355,273.567,44.628,281.041c-0.464,0.15-0.751,0.248-0.851,0.281c-5.417,2.062-8.145,8.114-6.092,13.528 c1.588,4.192,5.576,6.765,9.814,6.765c1.184,0,2.396-0.195,3.574-0.617L51.445,300.867z"></path>{" "}
          <path d="M170.772,356.402c-3.599-6.029-6.684-12.398-9.196-19.049c-3.44,2.251-7.009,4.598-10.725,7.045 c-26.179,17.262-55.862,36.825-68.769,40.299c-5.592,1.514-8.906,7.262-7.402,12.854c1.261,4.689,5.494,7.764,10.125,7.764 c0.902,0,1.817-0.113,2.725-0.355c16.185-4.367,44.692-23.156,74.873-43.045C165.13,360.115,167.935,358.268,170.772,356.402z"></path>{" "}
          <path d="M310.556,414.672c-2.114-0.764-4.56-1.867-7.245-3.221c-9.571,2.418-19.445,3.666-29.371,3.666 c-2.133,0-4.251-0.059-6.356-0.168c13.534,8.344,26.191,15.965,35.858,19.467c5.435,1.967,11.453-0.854,13.42-6.311 C318.829,422.646,316.013,416.639,310.556,414.672z"></path>{" "}
          <path d="M190.69,381.482c-14.76,9.119-34.594,23.168-60.247,41.904c-5.6,4.078-10.431,7.605-13.783,9.979 c-4.725,3.35-5.854,9.887-2.518,14.619c2.054,2.891,5.29,4.438,8.577,4.438c2.091,0,4.204-0.627,6.041-1.918 c3.484-2.465,8.376-6.045,14.047-10.168c14.189-10.367,46.716-34.113,65.317-44.916 C201.887,391.313,196.05,386.646,190.69,381.482z"></path>{" "}
          <path d="M275.142,466.809c-5.896-3.846-11.304-7.715-16.556-11.441c-17.191-12.291-32.06-22.904-48.355-20.066 c-18.35,3.17-47.568,32.557-53.244,38.402c-4.028,4.166-3.917,10.807,0.243,14.836c2.036,1.961,4.666,2.955,7.286,2.955 c2.744,0,5.483-1.064,7.537-3.193c14.047-14.512,34.003-30.99,41.745-32.33c7.65-1.318,19.229,6.916,32.611,16.469 c5.155,3.684,11.001,7.844,17.269,11.939c4.847,3.166,11.352,1.799,14.517-3.053C281.355,476.469,279.982,469.98,275.142,466.809z "></path>{" "}
          <path d="M454.778,451.717l-94.13-94.131c14.188-17.851,22.678-40.424,22.678-64.946c0-57.654-46.905-104.559-104.559-104.559 S174.208,234.986,174.208,292.64c0,57.653,46.905,104.558,104.559,104.558c18.336,0,35.58-4.75,50.578-13.074l96.514,96.514 c3.993,3.992,9.226,5.988,14.459,5.988c5.232,0,10.467-1.996,14.459-5.988C462.763,472.65,462.763,459.703,454.778,451.717z M227.075,346.916c-0.292,0.918-0.792,1.377-1.5,1.377c-0.158,0-0.303-0.029-0.44-0.076c-0.283-0.272-0.576-0.536-0.855-0.814 c-0.071-0.137-0.142-0.275-0.198-0.443c-0.297-0.891-0.445-2.521-0.445-4.896c0-2.392,0.148-4.038,0.445-4.938 c0.296-0.898,0.794-1.349,1.493-1.349c0.698,0,1.196,0.466,1.493,1.4c0.296,0.933,0.444,2.562,0.444,4.887 C227.513,344.381,227.367,345.998,227.075,346.916z M345.676,331.262c-2.321,0.104-4.072,0.961-5.237,2.591 c-1.184,1.655-1.798,4.224-1.854,7.677c-1.501,1.834-3.088,3.592-4.749,5.279v-15.268h-5.11l-7.205,5.871l2.941,3.619l2.383-1.968 c0.526-0.469,0.967-0.918,1.321-1.349c-0.058,1.119-0.086,2.354-0.086,3.703v10.691c-13.392,11.123-30.583,17.822-49.312,17.822 c-18.805,0-36.057-6.758-49.473-17.961c0.786-0.424,1.454-1,1.992-1.747c1.244-1.728,1.866-4.447,1.866-8.16 c0-3.589-0.638-6.29-1.916-8.103c-1.277-1.813-3.165-2.721-5.663-2.721c-2.565,0-4.469,0.871-5.713,2.612 c-1.048,1.467-1.648,3.647-1.814,6.526c-0.971-1.232-1.909-2.492-2.806-3.783c-0.307-1.021-0.713-1.904-1.229-2.637 c-0.415-0.59-0.902-1.072-1.447-1.471c-5.081-8.41-8.606-17.857-10.172-27.947c0.094,0.156,0.185,0.315,0.287,0.461 c1.272,1.804,3.163,2.705,5.67,2.705c2.564,0,4.469-0.863,5.713-2.59c1.244-1.728,1.866-4.447,1.866-8.162 c0-3.588-0.639-6.289-1.916-8.103s-3.165-2.72-5.663-2.72c-2.565,0-4.469,0.871-5.713,2.611c-0.46,0.645-0.833,1.426-1.123,2.34 c0.2-10.092,2.322-19.724,6.051-28.521c0.256,0.021,0.515,0.037,0.785,0.037c2.564,0,4.469-0.864,5.713-2.591 c1.244-1.727,1.866-4.447,1.866-8.16c0-1.377-0.096-2.62-0.284-3.734c14.01-19.804,37.074-32.771,63.123-32.771 c25.082,0,47.402,12.017,61.532,30.587l-1.556,1.268l2.942,3.617l1.327-1.096c0.799,1.191,1.558,2.41,2.29,3.648v8.944h4.553 c3.988,9.315,6.205,19.565,6.205,30.324C356.061,306.703,352.268,319.89,345.676,331.262z M206.413,296.957 c0-2.392,0.148-4.037,0.445-4.938c0.296-0.898,0.794-1.35,1.493-1.35c0.698,0,1.196,0.467,1.493,1.398 c0.296,0.934,0.445,2.562,0.445,4.889c0,2.315-0.146,3.933-0.438,4.853c-0.292,0.918-0.792,1.378-1.5,1.378 c-0.699,0-1.197-0.445-1.493-1.336C206.56,300.963,206.413,299.332,206.413,296.957z"></path>{" "}
          <path d="M223.494,248.852c0.526-0.469,0.967-0.918,1.321-1.35c-0.057,1.121-0.086,2.354-0.086,3.703v11.11h5.756V241.33h-5.11 l-7.206,5.872l2.943,3.617L223.494,248.852z"></path>{" "}
          <path d="M242.801,241.029c-2.565,0-4.469,0.871-5.713,2.613c-1.245,1.741-1.867,4.479-1.867,8.21c0,3.561,0.637,6.242,1.91,8.045 c1.272,1.805,3.162,2.706,5.67,2.706c2.565,0,4.469-0.864,5.712-2.591c1.243-1.727,1.865-4.447,1.865-8.16 c0-3.588-0.639-6.289-1.916-8.103C247.186,241.935,245.297,241.029,242.801,241.029z M244.301,256.703 c-0.292,0.92-0.792,1.379-1.5,1.379c-0.699,0-1.196-0.445-1.493-1.336c-0.297-0.89-0.445-2.521-0.445-4.895 c0-2.393,0.148-4.038,0.445-4.938c0.297-0.9,0.794-1.351,1.493-1.351c0.698,0,1.196,0.468,1.493,1.399 c0.297,0.933,0.445,2.562,0.445,4.888C244.738,254.168,244.592,255.785,244.301,256.703z"></path>{" "}
          <path d="M257.944,248.852c0.526-0.469,0.967-0.918,1.32-1.35c-0.059,1.121-0.086,2.354-0.086,3.703v11.11h5.756V241.33h-5.11 l-7.206,5.872l2.942,3.617L257.944,248.852z"></path>{" "}
          <path d="M277.25,241.029c-2.564,0-4.469,0.871-5.712,2.613c-1.244,1.741-1.866,4.479-1.866,8.21c0,3.561,0.638,6.242,1.909,8.045 c1.273,1.805,3.163,2.706,5.67,2.706c2.565,0,4.47-0.864,5.713-2.591c1.244-1.727,1.866-4.447,1.866-8.16 c0-3.588-0.639-6.289-1.917-8.103C281.635,241.935,279.748,241.029,277.25,241.029z M278.75,256.703 c-0.292,0.92-0.792,1.379-1.5,1.379c-0.697,0-1.195-0.445-1.493-1.336c-0.297-0.89-0.444-2.521-0.444-4.895 c0-2.393,0.147-4.038,0.444-4.938c0.298-0.9,0.795-1.351,1.493-1.351c0.699,0,1.196,0.468,1.493,1.399 c0.297,0.933,0.445,2.562,0.445,4.888C279.189,254.168,279.042,255.785,278.75,256.703z"></path>{" "}
          <path d="M294.476,241.029c-2.564,0-4.47,0.871-5.713,2.613c-1.244,1.741-1.866,4.479-1.866,8.21c0,3.561,0.637,6.242,1.91,8.045 c1.271,1.805,3.163,2.706,5.669,2.706c2.564,0,4.469-0.864,5.713-2.591c1.244-1.727,1.866-4.447,1.866-8.16 c0-3.588-0.64-6.289-1.917-8.103C298.861,241.936,296.974,241.029,294.476,241.029z M295.976,256.703c-0.292,0.92-0.792,1.379-1.5,1.379 c-0.699,0-1.196-0.445-1.493-1.336c-0.296-0.89-0.444-2.521-0.444-4.895c0-2.393,0.148-4.038,0.444-4.938 c0.297-0.9,0.794-1.351,1.493-1.351c0.697,0,1.196,0.468,1.493,1.399c0.297,0.933,0.444,2.562,0.444,4.888 C296.414,254.168,296.267,255.785,295.976,256.703z"></path>{" "}
          <path d="M309.62,248.852c0.526-0.469,0.967-0.918,1.321-1.35c-0.058,1.121-0.086,2.354-0.086,3.703v11.11h5.756V241.33h-5.11 l-7.207,5.872l2.943,3.617L309.62,248.852z"></path>{" "}
          <path d="M321.519,247.201l2.941,3.617l2.383-1.967c0.526-0.469,0.966-0.918,1.321-1.35c-0.058,1.121-0.086,2.354-0.086,3.703 v11.11h5.756V241.33h-5.109L321.519,247.201z"></path>{" "}
          <path d="M225.575,286.135c-2.565,0-4.469,0.871-5.713,2.611c-1.244,1.742-1.866,4.479-1.866,8.211 c0,3.561,0.636,6.242,1.909,8.045c1.273,1.805,3.163,2.707,5.67,2.707c2.565,0,4.469-0.865,5.713-2.592s1.866-4.447,1.866-8.16 c0-3.588-0.638-6.289-1.916-8.104C229.959,287.039,228.073,286.135,225.575,286.135z M227.075,301.811 c-0.292,0.918-0.792,1.378-1.5,1.378c-0.699,0-1.196-0.444-1.493-1.336c-0.297-0.89-0.445-2.521-0.445-4.896 c0-2.392,0.148-4.037,0.445-4.938c0.296-0.898,0.794-1.35,1.493-1.35c0.698,0,1.196,0.467,1.493,1.398 c0.296,0.934,0.444,2.562,0.444,4.889C227.513,299.273,227.367,300.891,227.075,301.811z"></path>{" "}
          <path d="M241.954,307.422h5.756v-20.985h-5.11l-7.206,5.871l2.942,3.616l2.383-1.967c0.526-0.467,0.966-0.918,1.32-1.349 c-0.058,1.12-0.086,2.354-0.086,3.703L241.954,307.422L241.954,307.422z"></path>{" "}
          <path d="M260.025,286.135c-2.564,0-4.469,0.871-5.713,2.611c-1.244,1.742-1.866,4.479-1.866,8.211 c0,3.561,0.636,6.242,1.909,8.045c1.272,1.805,3.163,2.707,5.67,2.707c2.564,0,4.469-0.865,5.713-2.592 c1.245-1.727,1.866-4.447,1.866-8.16c0-3.588-0.64-6.289-1.916-8.104C264.411,287.041,262.523,286.135,260.025,286.135z M261.526,301.811c-0.292,0.918-0.792,1.378-1.5,1.378c-0.699,0-1.196-0.444-1.493-1.336c-0.296-0.89-0.444-2.521-0.444-4.896 c0-2.392,0.148-4.037,0.444-4.938c0.297-0.898,0.794-1.35,1.493-1.35c0.698,0,1.196,0.467,1.493,1.398 c0.296,0.934,0.443,2.562,0.443,4.889C261.962,299.273,261.817,300.891,261.526,301.811z"></path>{" "}
          <path d="M269.844,292.308l2.941,3.616l2.383-1.967c0.526-0.467,0.967-0.918,1.32-1.349c-0.057,1.12-0.086,2.354-0.086,3.703v11.11 h5.756v-20.985h-5.11L269.844,292.308z"></path>{" "}
          <path d="M294.476,286.135c-2.564,0-4.47,0.871-5.713,2.611c-1.244,1.742-1.866,4.479-1.866,8.211c0,3.561,0.637,6.242,1.91,8.045 c1.271,1.805,3.163,2.707,5.669,2.707c2.564,0,4.469-0.865,5.713-2.592s1.866-4.447,1.866-8.16c0-3.588-0.64-6.289-1.917-8.104 C298.861,287.041,296.974,286.135,294.476,286.135z M295.976,301.811c-0.292,0.918-0.792,1.378-1.5,1.378 c-0.699,0-1.196-0.444-1.493-1.336c-0.296-0.89-0.444-2.521-0.444-4.896c0-2.392,0.148-4.037,0.444-4.938 c0.297-0.898,0.794-1.35,1.493-1.35c0.697,0,1.196,0.467,1.493,1.398c0.297,0.934,0.444,2.562,0.444,4.889 C296.414,299.273,296.267,300.891,295.976,301.811z"></path>{" "}
          <path d="M311.701,286.135c-2.565,0-4.469,0.871-5.713,2.611c-1.244,1.742-1.866,4.479-1.866,8.211 c0,3.561,0.636,6.242,1.909,8.045c1.271,1.805,3.163,2.707,5.67,2.707c2.563,0,4.469-0.865,5.713-2.592s1.866-4.447,1.866-8.16 c0-3.588-0.64-6.289-1.916-8.104C316.086,287.039,314.199,286.135,311.701,286.135z M313.201,301.811 c-0.292,0.918-0.792,1.378-1.5,1.378c-0.699,0-1.197-0.444-1.493-1.336c-0.297-0.89-0.445-2.521-0.445-4.896 c0-2.392,0.148-4.037,0.445-4.938c0.296-0.898,0.794-1.35,1.493-1.35c0.698,0,1.196,0.467,1.493,1.398 c0.296,0.934,0.443,2.562,0.443,4.889C313.638,299.273,313.493,300.891,313.201,301.811z"></path>{" "}
          <path d="M321.519,292.308l2.941,3.616l2.383-1.967c0.526-0.467,0.966-0.918,1.321-1.349c-0.058,1.12-0.086,2.354-0.086,3.703 v11.11h5.756v-20.985h-5.109L321.519,292.308z"></path>{" "}
          <path d="M346.151,286.135c-2.565,0-4.47,0.871-5.713,2.611c-1.245,1.742-1.866,4.479-1.866,8.211c0,3.561,0.637,6.242,1.909,8.045 c1.272,1.805,3.162,2.707,5.67,2.707c2.563,0,4.469-0.865,5.713-2.592s1.866-4.447,1.866-8.16c0-3.588-0.639-6.289-1.916-8.104 C350.537,287.041,348.649,286.135,346.151,286.135z M347.651,301.811c-0.292,0.918-0.792,1.378-1.5,1.378 c-0.699,0-1.196-0.444-1.493-1.336c-0.296-0.89-0.444-2.521-0.444-4.896c0-2.392,0.148-4.037,0.444-4.938 c0.297-0.898,0.794-1.35,1.493-1.35c0.697,0,1.195,0.467,1.493,1.398c0.296,0.934,0.443,2.562,0.443,4.889 C348.088,299.273,347.943,300.891,347.651,301.811z"></path>{" "}
          <path d="M242.801,331.242c-2.565,0-4.469,0.871-5.713,2.611c-1.245,1.742-1.867,4.479-1.867,8.211c0,3.561,0.637,6.242,1.91,8.046 c1.273,1.804,3.162,2.706,5.67,2.706c2.565,0,4.469-0.863,5.712-2.591c1.243-1.728,1.865-4.447,1.865-8.16 c0-3.589-0.639-6.29-1.916-8.103C247.186,332.147,245.297,331.242,242.801,331.242z M244.301,346.916 c-0.292,0.918-0.792,1.377-1.5,1.377c-0.699,0-1.196-0.444-1.493-1.334c-0.297-0.891-0.445-2.521-0.445-4.896 c0-2.392,0.148-4.038,0.445-4.938c0.297-0.898,0.794-1.349,1.493-1.349c0.698,0,1.196,0.466,1.493,1.4 c0.297,0.933,0.445,2.562,0.445,4.887C244.738,344.381,244.592,345.998,244.301,346.916z"></path>{" "}
          <path d="M252.619,337.414l2.942,3.617l2.383-1.967c0.526-0.469,0.967-0.918,1.32-1.35c-0.059,1.121-0.086,2.354-0.086,3.703v11.11 h5.756v-20.985h-5.11L252.619,337.414z"></path>{" "}
          <path d="M269.844,337.414l2.941,3.617l2.383-1.967c0.526-0.469,0.967-0.918,1.32-1.35c-0.057,1.121-0.086,2.354-0.086,3.703v11.11 h5.756v-20.985h-5.11L269.844,337.414z"></path>{" "}
          <path d="M287.069,337.414l2.943,3.617l2.383-1.967c0.525-0.469,0.966-0.918,1.32-1.35c-0.058,1.121-0.087,2.354-0.087,3.703v11.11 h5.757v-20.985h-5.11L287.069,337.414z"></path>{" "}
          <path d="M311.701,331.242c-2.565,0-4.469,0.871-5.713,2.611c-1.244,1.742-1.866,4.479-1.866,8.211 c0,3.561,0.636,6.242,1.909,8.046c1.271,1.804,3.163,2.706,5.67,2.706c2.563,0,4.469-0.863,5.713-2.591s1.866-4.447,1.866-8.16 c0-3.589-0.64-6.29-1.916-8.103C316.086,332.147,314.199,331.242,311.701,331.242z M313.201,346.916 c-0.292,0.918-0.792,1.377-1.5,1.377c-0.699,0-1.197-0.444-1.493-1.334c-0.297-0.891-0.445-2.521-0.445-4.896 c0-2.392,0.148-4.038,0.445-4.938c0.296-0.898,0.794-1.349,1.493-1.349c0.698,0,1.196,0.466,1.493,1.4 c0.296,0.933,0.443,2.562,0.443,4.887C313.638,344.381,313.493,345.998,313.201,346.916z"></path>{" "}
        </g>{" "}
      </g>{" "}
    </g>
  </svg>
  )
};

const Layout = ({ children }) => {
  const navigate = useNavigate();
  const location = useLocation();
  const userName = localStorage.getItem("userName");

    const [sidebarMenusObj, setSidebarMenusObj] = useState([]);
    const [loading, setLoading] = useState(false); // State for loading indicator

    useEffect(()=>{
        const ApprunCall = async ()=> {
            setLoading(true);
            try {
                const token = localStorage.getItem("auth_token");
                const serverURL = process.env.REACT_APP_SERVER_URL;
                const response = await fetch(`${serverURL}/auth/get_module`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'token' : token
                    },
                });
                setLoading(false);
                if (!response.ok) {
                throw new Error(data.message);
                }

                const data = await response.json();

                if(data && data.success && data['modules']){
                    setSidebarMenusObj(data['modules'])
                }

            } catch (err) {
                setLoading(false);
                var errMessage = 'Something went wrong. Please try again.'
                if(err && err.message){
                    errMessage = err.message;
                }
                toast.error(errMessage, {
                    position: "top-right",
                    autoClose: 3000,
                    hideProgressBar: false,
                    closeOnClick: true,
                    pauseOnHover: true,
                    draggable: true,
                    progress: undefined,
                    className: "toast-warning",
                });
                return;
            }
        }
        ApprunCall();
    },[]);

  const handleLogout = async () => {
      const token = localStorage.getItem("auth_token");
        try {
            const serverURL = process.env.REACT_APP_SERVER_URL;
            const response = await fetch(`${serverURL}/auth/logout`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'token' : token
                },
            });

            console.log("Logout response", response);
            const data = await response.json();
            if (!response.ok) {
               throw new Error(data.message);
            }

            localStorage.removeItem("auth_token");
            localStorage.removeItem("userName");
            localStorage.removeItem("authAdmin");
            localStorage.removeItem("kgid");
            navigate("/");
        } catch (err) {
            var errMessage = 'Something went wrong. Please try again.'
            if(err && err.message){
                errMessage = err.message;
            }
            toast.error(errMessage, {
                position: "top-right",
                autoClose: 3000,
                hideProgressBar: false,
                closeOnClick: true,
                pauseOnHover: true,
                draggable: true,
                progress: undefined,
                className: "toast-warning",
            });
            return;
        }
  };

  return (
    <Box>
      <ToastContainer />
      <Stack direction="row" justifyContent="space-between">
        {/* Sidebar */}
        <Box
          sx={{
            display: { xs: "none", md: "block" },
            width: "253px",
            minWidth: "253px",
            borderRight: "1px solid #D0D5DD",
            overflow: "hidden",
          }}
        >
          <Paper sx={{ height: "100vh", borderRadius: "0", boxShadow: "none" }}>
            {/* Sidebar Header */}
            <Box
              sx={{
                padding: 1,
                display: "flex",
                gap: "10px",
                alignItems: "center",
                justifyContent: "center",
                borderBottom: "1px solid #D0D5DD",
              }}
            >
              <img
                srcSet={`${LogoText}?w=150&fit=crop&auto=format&dpr=2 4x`}
                src={`${LogoText}?w=150&fit=crop&auto=format`}
                alt=""
                loading="lazy"
              />

              <Divider
                sx={{
                  height: "24px",
                  width: "1px",
                  backgroundColor: "#D0D5DD",
                  border: "none",
                }}
              />
              <p className="cmsLogoText">
                Case Management
                <br />
                System
              </p>
              {/* <Typography className='poppins' align="left" sx={{ fontWeight: '600',fontSize:'16px',lineHeight:'18px' }}>
                                Karnataka<br />
                                Lokuyukta Police
                            </Typography> */}
              <Divider sx={{ marginTop: 1 }} />
            </Box>

            {/* Sidebar Content (Navigation Links) */}
            <List sx={{ height: "100%" }}>
              {/* 1st menu list */}
                <Box
                    py={0.5}
                    sx={{ display: "flex", flexDirection: "column", gap: "4px" }}
                >
                    {sidebarMenusObj &&
                    sidebarMenusObj.length > 0 &&
                    sidebarMenusObj.map((element, index) => {
                        return (
                            <ListItem
                                key={index}
                                sx={{ cursor: "pointer" }}
                                onClick={() => {
                                    navigate(`/${element.name}`);
                                }}
                                className={`sidebarMenus ${
                                element.name === location.pathname
                                    ? "active"
                                    : ""
                                }`}
                            >
                                <ListItemIcon>
                                    {icons['dashboardIcon']}
                                </ListItemIcon>
                                <ListItemText primary={element.ui_name} />
                            </ListItem>
                        );
                    })}
                </Box>

              {/* 2nd menu list */}
              {/* <Box py={0.5} sx={{borderBottom:'1px solid #EAECF0',display:'flex',flexDirection:'column',gap:'4px'}}>
                                <ListItem sx={{cursor:'pointer'}} className='sidebarMenus'>
                                    <ListItemIcon>
                                        <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path stroke='none' d="M18.4638 16.9146L15.3429 7.93075C15.1237 7.3397 14.6331 6.97433 14.0694 6.97433C13.5058 6.97433 13.0256 7.3397 12.7856 7.95224L9.67502 16.9146C9.52889 17.3337 9.73765 17.7958 10.1447 17.9463C10.5518 18.0967 11.0007 17.8818 11.1468 17.4627L11.7939 15.6036H16.3345L16.9816 17.4627C17.0965 17.7958 17.3992 18 17.7227 18C17.8062 18 17.9002 17.9893 17.9837 17.957C18.3908 17.8066 18.5995 17.3445 18.4534 16.9254L18.4638 16.9146ZM12.368 13.9809L14.0799 9.04836L15.7917 13.9809H12.368ZM9.70634 4.53493C7.34733 8.37134 5.21799 10.6925 2.62936 12.24C2.5041 12.3152 2.36841 12.3475 2.24315 12.3475C1.97176 12.3475 1.71081 12.2078 1.56468 11.9499C1.34548 11.563 1.47074 11.0687 1.84651 10.8537C4.03848 9.54269 5.83383 7.66209 7.84837 4.54567H1.28285C0.854893 4.54567 0.5 4.1803 0.5 3.7397C0.5 3.2991 0.854893 2.93373 1.28285 2.93373H5.19711V0.80597C5.19711 0.365373 5.552 0 5.97996 0C6.40791 0 6.76281 0.365373 6.76281 0.80597V2.93373H10.6771C11.105 2.93373 11.4599 3.2991 11.4599 3.7397C11.4599 4.1803 11.105 4.54567 10.6771 4.54567H9.6959L9.70634 4.53493ZM9.74809 12.3475C9.6124 12.3475 9.4767 12.3152 9.35145 12.24C8.67297 11.8316 8.01538 11.3803 7.39952 10.9075C7.05507 10.6388 6.98201 10.1337 7.24296 9.7791C7.50391 9.42448 7.9945 9.34925 8.33896 9.61791C8.90261 10.0585 9.51845 10.4669 10.1447 10.843C10.5205 11.0687 10.6458 11.563 10.4266 11.9499C10.2804 12.2078 10.0195 12.3475 9.74809 12.3475Z"/>
                                        </svg>
                                    </ListItemIcon>
                                    <ListItemText primary="Change Language" />
                                </ListItem>
                                <ListItem sx={{cursor:'pointer'}} className='sidebarMenus'>
                                    <ListItemIcon>
                                        <svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill="none" d="M18.8332 9.16699V6.83366C18.8332 5.90024 18.8332 5.43353 18.6515 5.07701C18.4917 4.7634 18.2368 4.50844 17.9232 4.34865C17.5666 4.16699 17.0999 4.16699 16.1665 4.16699H4.83317C3.89975 4.16699 3.43304 4.16699 3.07652 4.34865C2.76292 4.50844 2.50795 4.7634 2.34816 5.07701C2.1665 5.43353 2.1665 5.90024 2.1665 6.83366V9.83366C2.1665 10.7671 2.1665 11.2338 2.34816 11.5903C2.50795 11.9039 2.76292 12.1589 3.07652 12.3187C3.43304 12.5003 3.89975 12.5003 4.83317 12.5003H9.6665M10.4998 8.33366H10.504M14.6665 8.33366H14.6707M6.33317 8.33366H6.33734M16.5415 14.167V12.7087C16.5415 11.9032 15.8886 11.2503 15.0832 11.2503C14.2778 11.2503 13.6248 11.9032 13.6248 12.7087V14.167M10.7082 8.33366C10.7082 8.44872 10.6149 8.54199 10.4998 8.54199C10.3848 8.54199 10.2915 8.44872 10.2915 8.33366C10.2915 8.2186 10.3848 8.12533 10.4998 8.12533C10.6149 8.12533 10.7082 8.2186 10.7082 8.33366ZM14.8748 8.33366C14.8748 8.44872 14.7816 8.54199 14.6665 8.54199C14.5514 8.54199 14.4582 8.44872 14.4582 8.33366C14.4582 8.2186 14.5514 8.12533 14.6665 8.12533C14.7816 8.12533 14.8748 8.2186 14.8748 8.33366ZM6.5415 8.33366C6.5415 8.44872 6.44823 8.54199 6.33317 8.54199C6.21811 8.54199 6.12484 8.44872 6.12484 8.33366C6.12484 8.2186 6.21811 8.12533 6.33317 8.12533C6.44823 8.12533 6.5415 8.2186 6.5415 8.33366ZM13.4998 17.5003H16.6665C17.1332 17.5003 17.3666 17.5003 17.5448 17.4095C17.7016 17.3296 17.8291 17.2021 17.909 17.0453C17.9998 16.8671 17.9998 16.6337 17.9998 16.167V15.5003C17.9998 15.0336 17.9998 14.8003 17.909 14.622C17.8291 14.4652 17.7016 14.3377 17.5448 14.2578C17.3666 14.167 17.1332 14.167 16.6665 14.167H13.4998C13.0331 14.167 12.7998 14.167 12.6215 14.2578C12.4647 14.3377 12.3372 14.4652 12.2573 14.622C12.1665 14.8003 12.1665 15.0336 12.1665 15.5003V16.167C12.1665 16.6337 12.1665 16.8671 12.2573 17.0453C12.3372 17.2021 12.4647 17.3296 12.6215 17.4095C12.7998 17.5003 13.0331 17.5003 13.4998 17.5003Z" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
                                        </svg>
                                    </ListItemIcon>
                                    <ListItemText primary="Change Password" />
                                </ListItem>
                                <ListItem onClick={handleLogout} sx={{cursor:'pointer'}} className='sidebarMenus'>
                                    <ListItemIcon>
                                        <svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill="none" d="M13.8333 14.1667L18 10M18 10L13.8333 5.83333M18 10H8M10.5 14.1667C10.5 14.9416 10.5 15.3291 10.4148 15.647C10.1836 16.5098 9.50978 17.1836 8.64705 17.4148C8.32913 17.5 7.94164 17.5 7.16667 17.5H6.75C5.58515 17.5 5.00272 17.5 4.54329 17.3097C3.93072 17.056 3.44404 16.5693 3.1903 15.9567C3 15.4973 3 14.9149 3 13.75V6.25C3 5.08515 3 4.50272 3.1903 4.04329C3.44404 3.43072 3.93072 2.94404 4.54329 2.6903C5.00272 2.5 5.58515 2.5 6.75 2.5H7.16667C7.94164 2.5 8.32913 2.5 8.64705 2.58519C9.50978 2.81635 10.1836 3.49022 10.4148 4.35295C10.5 4.67087 10.5 5.05836 10.5 5.83333" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
                                        </svg>
                                    </ListItemIcon>
                                    <ListItemText primary="Logout" />
                                </ListItem>
                            </Box> */}

              {/* user details */}
              <ListItem
                sx={{
                  display: "flex",
                  justifyContent: "space-between",
                  alignItems: "end",
                  gap: "8px",
                  padding: "12px 10px",
                  position: "absolute",
                  bottom: "100px",
                  borderTop: "1px solid #D0D5DD",
                  background: "#FFFFFF",
                }}
              >
                <Box sx={{ display: "flex", alignItems: "center", gap: "6px" }}>
                  <Box
                    sx={{
                      width: "32px",
                      height: "32px",
                      border: "1px solid #D0D5DD",
                      borderRadius: "50%",
                    }}
                  >
                    <img src={userImg} width="100%" height="100%" />
                  </Box>
                  <Box sx={{ display: "flex", flexDirection: "column" }}>
                    <Typography
                      align="left"
                      sx={{
                        fontWeight: "500",
                        fontSize: "14px",
                        lineHeight: "18px",
                        color: "#1D2939",
                      }}
                    >
                      {userName ? userName : "UserName"}
                    </Typography>
                  </Box>
                </Box>
                <Typography
                  align="left"
                  sx={{
                    fontWeight: "400",
                    fontSize: "14px",
                    lineHeight: "18px",
                    color: "#98A2B3",
                  }}
                >
                  <svg
                    style={{ cursor: "pointer" }}
                    onClick={handleLogout}
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M4 15C4 15.93 4 16.395 4.10222 16.7765C4.37962 17.8117 5.18827 18.6204 6.22354 18.8978C6.60504 19 7.07003 19 8 19H14.2C15.8802 19 16.7202 19 17.362 18.673C17.9265 18.3854 18.3854 17.9265 18.673 17.362C19 16.7202 19 15.8802 19 14.2V5.8C19 4.11984 19 3.27976 18.673 2.63803C18.3854 2.07354 17.9265 1.6146 17.362 1.32698C16.7202 1 15.8802 1 14.2 1H8C7.07003 1 6.60504 1 6.22354 1.10222C5.18827 1.37962 4.37962 2.18827 4.10222 3.22354C4 3.60504 4 4.07003 4 5M10 6L14 10M14 10L10 14M14 10H1"
                      stroke="#1D2939"
                      strokeWidth="1.5"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                    />
                  </svg>
                </Typography>
              </ListItem>

              {/* <ListItem button>
                                <ListItemText primary="Dashboard" onClick={() => { navigate('/dashboard') }} />
                            </ListItem>
                            <ListItem button>
                                <ListItemText primary="Profile" onClick={() => { navigate('/profile') }} />
                            </ListItem> */}
              {/* <ListItem button>
                                <ListItemText primary="Settings" onClick={navigate('/settings')} />
                            </ListItem> */}
            </List>
          </Paper>
        </Box>

        {/* Main Content */}
        <Box flex={4} sx={{ overflow: "hidden" }}>
          <Paper sx={{ height: "100%", borderRadius: "0", boxShadow: "none" }}>
            {/* Render nested route (e.g., Dashboard, Profile) */}
            {/* <Outlet /> */}
            {children}
          </Paper>
        </Box>
      </Stack>
        {loading && <div className='parent_spinner' tabIndex="-1" aria-hidden="true">
                        <CircularProgress size={100} />
                    </div>
        }
    </Box>
  );
};

export default Layout;
